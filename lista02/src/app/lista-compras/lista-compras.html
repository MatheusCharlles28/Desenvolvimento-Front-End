<div class="container">
  <h2>Lista de Compras</h2>
  
  <div class="form-section">
    <div class="input-group">
      <input 
        type="text" 
        [(ngModel)]="nomeProduto" 
        placeholder="Nome do produto"
        class="produto-input"
        (keyup.enter)="adicionarProduto()"
      >
      <input 
        type="number" 
        [(ngModel)]="precoProduto" 
        placeholder="Preço"
        class="preco-input"
        min="0"
        step="0.01"
        (keyup.enter)="adicionarProduto()"
      >
    </div>
    <button 
      (click)="adicionarProduto()" 
      class="btn-adicionar"
      [disabled]="!nomeProduto.trim() || !precoProduto || precoProduto <= 0"
    >
      Adicionar Produto
    </button>
  </div>

  <div class="total-section" *ngIf="produtos.length > 0">
    <div class="total-card">
      <span class="total-label">Total da Compra:</span>
      <span class="total-valor">R$ {{ calcularTotal() | number:'1.2-2' }}</span>
    </div>
  </div>

  <div class="lista-container" *ngIf="produtos.length > 0">
    <h3>Produtos na lista ({{ produtos.length }} itens):</h3>
    <ul class="lista-produtos">
      <li *ngFor="let produto of produtos; let i = index" class="item-produto">
        <div class="produto-info">
          <span class="produto-nome">{{ produto.nome }}</span>
          <span class="produto-preco">R$ {{ produto.preco | number:'1.2-2' }}</span>
        </div>
        <button 
          (click)="removerProduto(i)" 
          class="btn-remover"
          title="Remover produto"
        >
          ×
        </button>
      </li>
    </ul>
    
    <button 
      (click)="limparLista()" 
      class="btn-limpar"
    >
      Limpar Lista
    </button>
  </div>

  <div class="sem-produtos" *ngIf="produtos.length === 0">
    <p>Sua lista de compras está vazia. Adicione produtos acima!</p>
  </div>
</div>